{"version":3,"sources":["components/Clock/index.jsx","components/NavHome/index.jsx","components/ReportCard/index.jsx","components/CityReport/index.jsx","components/Footer/index.jsx","data/cities.js","assets/video/moon.mp4","assets/video/sky.mp4","pages/Home.jsx","index.jsx"],"names":["Clock","useState","Date","time","setTime","useEffect","tick","setInterval","clearInterval","id","getHours","getMinutes","getSeconds","NavHome","Navbar","Brand","Button","href","target","ReportCard","report","Card","style","width","className","height","src","weather","icon","alt","dt","getDay","getDate","description","charAt","toUpperCase","slice","Math","floor","main","temp_max","dt_txt","CityReport","results","Container","city","name","country","additionalTransfrom","arrows","autoPlaySpeed","centerMode","containerClass","dotListClass","draggable","focusOnSelect","infinite","itemClass","keyBoardControl","minimumTouchDrag","renderButtonGroupOutside","renderDotsOutside","responsive","desktop","breakpoint","max","min","items","partialVisibilityGutter","mobile","tablet","showDots","sliderClass","slidesToSlide","swipeable","list","map","Footer","regions","cities","APIKEY","process","Home","currentTime","selectedRegion","setSelectedRegion","searchCity","setSearchCity","setResults","console","log","filter","location","String","autoPlay","muted","loop","moon","sky","variant","onClick","navigator","geolocation","getCurrentPosition","position","fetch","coords","latitude","longitude","then","response","json","catch","error","faMapPin","Form","Control","as","placeholder","onChange","e","choice","value","find","region","index","event","preventDefault","idx","searchTerm","trim","faLocationArrow","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.4bff1ecc.chunk.js","sourcesContent":["import { useState, useEffect } from \"react\";\nimport \"./style.scss\";\n\nconst Clock = () => {\n\n  const [time, setTime] = useState(new Date());\n\n  useEffect(() => {\n    const tick = setInterval(() => {\n        setTime(new Date())\n    }, 1000);\n    return () => clearInterval(tick);\n  }, []);\n\n  return <p id=\"timeClock\">{time.getHours()}:\n  {time.getMinutes()<10?'0'+time.getMinutes():''+time.getMinutes()}:\n  {time.getSeconds()<10?'0'+time.getSeconds():''+time.getSeconds()}</p>;\n};\n\nexport default Clock;\n","import Navbar from \"react-bootstrap/Navbar\";\nimport {Button} from \"react-bootstrap\";\nimport Clock from \"../Clock\";\nimport \"./style.scss\";\n\nconst NavHome = () => {\n    return (\n      <Navbar id=\"nav\">\n        <Navbar.Brand id=\"main-title\">\n        <Clock />\n        </Navbar.Brand>\n        <Button id=\"main-button\" href=\"https://github.com/hsravo/weatherreport\" target=\"_blank\">\n          À PROPOS\n        </Button>\n      </Navbar>\n    )\n}\n\nexport default NavHome;","import { Card } from \"react-bootstrap\";\nimport \"./style.scss\";\n\nconst ReportCard = ({ report }) => {\n  let days = [\n    \"Dimanche\",\n    \"Lundi\",\n    \"Mardi\",\n    \"Mercredi\",\n    \"Jeudi\",\n    \"Vendredi\",\n    \"Samedi\",\n  ];\n\n  return (\n    <Card\n      id=\"cardUnit\"\n      key={report.dt_txt}\n      style={{ width: \"15rem\" }}\n      className=\"justify-content-md-center\"\n    >\n      <img\n        className=\"card-img-top\"\n        style={{ height: \"150px\", width: \"150px\" }}\n        src={`https://openweathermap.org/img/wn/${report.weather[0].icon}@4x.png`}\n        alt=\"\"\n      ></img>\n      <div id=\"cardText\">\n        <h4 id=\"cardDateHour\">\n          {days[new Date(report.dt * 1000).getDay()]}{\" \"}\n          {new Date(report.dt * 1000).getDate()}\n          {\" / \"}\n          {new Date(report.dt * 1000).getHours()}h\n        </h4>\n        <h6 id=\"cardWeather\">{report.weather[0].description.charAt(0).toUpperCase()+report.weather[0].description.slice(1)}</h6>\n        <h2 id=\"cardTemperature\">{Math.floor(report.main.temp_max)}°C</h2>\n      </div>\n    </Card>\n  );\n};\n\nexport default ReportCard;\n","import { Container, Row } from \"react-bootstrap\";\nimport ReportCard from \"../ReportCard\";\nimport \"./style.scss\";\nimport Carousel from \"react-multi-carousel\";\nimport \"react-multi-carousel/lib/styles.css\";\n\nconst CityReport = ({ results }) => {\n\n  return results ? (\n    <Container id=\"reportCarousel\">\n      <h2>\n        {results.city.name} ({results.city.country})\n      </h2>\n      <Carousel\n        additionalTransfrom={0}\n        arrows\n        autoPlaySpeed={3000}\n        centerMode={false}\n        className=\"\"\n        containerClass=\"container\"\n        dotListClass=\"\"\n        draggable\n        focusOnSelect={false}\n        infinite={false}\n        itemClass=\"\"\n        keyBoardControl\n        minimumTouchDrag={80}\n        renderButtonGroupOutside={false}\n        renderDotsOutside={false}\n        responsive={{\n          desktop: {\n            breakpoint: {\n              max: 3000,\n              min: 1024,\n            },\n            items: 4,\n            partialVisibilityGutter: 40,\n          },\n          mobile: {\n            breakpoint: {\n              max: 464,\n              min: 0,\n            },\n            items: 1,\n            partialVisibilityGutter: 30,\n          },\n          tablet: {\n            breakpoint: {\n              max: 1024,\n              min: 464,\n            },\n            items: 2,\n            partialVisibilityGutter: 30,\n          },\n        }}\n        showDots={false}\n        sliderClass=\"\"\n        slidesToSlide={1}\n        swipeable\n      >\n        {results.list.map((report) => (\n          <ReportCard report={report} key={report.dt} />\n        ))}\n      </Carousel>\n    </Container>\n  ) : (\n    <h6>{\" \"}</h6>\n  );\n};\n\nexport default CityReport;\n","import \"./style.scss\";\n\nconst Footer = () => {\n    return (\n        <div id=\"footer\">\n            <small>Réalisé par <a href=\"https://github.com/hsravo\">HS Ravo</a> / 2021</small>\n        </div>\n    )\n}\n\nexport default Footer;","const regions = [\n  {\n    name: \"Auvergne-Rhône-Alpes\",\n    cities: [\"Lyon\", \"Grenoble\", \"Clermont-Ferrand\"],\n  },\n  {\n    name: \"Bourgogne-Franche-Comté\",\n    cities: [\"Dijon\", \"Besançon\", \"Chalon-sur-Saône\"],\n  },\n  {\n    name: \"Bretagne\",\n    cities: [\"Rennes\", \"Brest\", \"Quimper\"],\n  },\n  {\n    name: \"Centre-Val de Loire\",\n    cities: [\"Tours\", \"Orléans\", \"Bourges\"],\n  },\n  {\n    name: \"Corse\",\n    cities: [\"Ajaccio\", \"Bastia\", \"Porto-Vecchio\"],\n  },\n  {\n    name: \"Grand Est\",\n    cities: [\"Strasbourg\", \"Metz\", \"Reims\"],\n  },\n  {\n    name: \"Hauts-de-France\",\n    cities: [\"Lille\", \"Amiens\", \"Boulogne-sur-Mer\"],\n  },\n  {\n    name: \"Ile-de-France\",\n    cities: [\"Paris\", \"Créteil\", \"Versailles\"],\n  },\n  {\n    name: \"Normandie\",\n    cities: [\"Rouen\", \"Caen\", \"Le Havre\"],\n  },\n  {\n    name: \"Nouvelle-Aquitaine\",\n    cities: [\"Bordeaux\", \"Limoges\", \"Biarritz\"],\n  },\n  {\n    name: \"Occitanie\",\n    cities: [\"Toulouse\", \"Montpellier\", \"Nîmes\"],\n  },\n  {\n    name: \"Pays de la Loire\",\n    cities: [\"Nantes\", \"Angers\", \"Le Mans\"],\n  },\n  {\n    name: \"Provence-Alpes-Côte d’Azur\",\n    cities: [\"Marseille\", \"Nice\", \"Toulon\"],\n  },\n];\n\nexport default regions;\n","export default __webpack_public_path__ + \"static/media/moon.dfe7d45d.mp4\";","export default __webpack_public_path__ + \"static/media/sky.22e3b30a.mp4\";","import React, { useState, useEffect } from \"react\";\nimport { Button, Form, Jumbotron, Container } from \"react-bootstrap\";\nimport {\n  faCompass,\n  faMapPin,\n  faLocationArrow,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport NavHome from \"../components/NavHome\";\nimport CityReport from \"../components/CityReport\";\nimport Footer from \"../components/Footer\";\nimport regions from \"../data/cities.js\";\nimport moon from \"../assets/video/moon.mp4\";\nimport sky from \"../assets/video/sky.mp4\";\nimport \"./index.scss\";\n\nconst APIKEY = process.env.REACT_APP_API_SECRET_KEY;\n\nconst Home = () => {\n  const [currentTime] = useState(new Date());\n  const [selectedRegion, setSelectedRegion] = useState();\n  const [searchCity, setSearchCity] = useState(\"\");\n  const [results, setResults] = useState(\"\");\n\n  const fetchCity = () => {\n    const searchTerm = searchCity.trim();\n    if (searchTerm !== \"\") {\n      fetch(\n        `https://api.openweathermap.org/data/2.5/forecast?q=${searchTerm},FR&cnt=12&units=metric&lang=fr&appid=${APIKEY}`\n      )\n        .then((response) => response.json())\n        .then((response) => setResults(response))\n        .catch((error) => console.error(error));\n    }\n  };\n\n  const fetchLocal = () => {\n    console.log(\"geo on\");\n    navigator.geolocation.getCurrentPosition((position) => {\n      fetch(\n        `https://api.openweathermap.org/data/2.5/forecast?lat=${position.coords.latitude}&lon=${position.coords.longitude}&cnt=12&units=metric&lang=fr&appid=${APIKEY}`\n      )\n        .then((response) => response.json())\n        .then((response) => setResults(response))\n        .catch((error) => console.error(error));\n    });\n  };\n\n  const regionChange = (e) => {\n    const choice = e.target.value;\n    setSelectedRegion(regions.find((region) => {\n      return region.name === choice\n    }));\n  };\n\n  useEffect(() => {\n    console.log(selectedRegion);\n    regions.filter((location) => String(location.name) === selectedRegion);\n  }, [selectedRegion]);\n\n  const handleChange = (event) => {\n    const { value } = event.target;\n    console.log(value);\n    setSearchCity(value);\n    event.preventDefault();\n  };\n\n  const resetAll = () => {\n    setSelectedRegion(\"\");\n    setSearchCity(\"\");\n    setResults(\"\");\n  };\n\n  return (\n    <div id=\"fullHomepage\">\n      <video autoPlay muted loop id=\"my-video\">\n        {currentTime.getHours() >= 18 ? (\n          <source src={moon} />\n        ) : (\n          <source src={sky} />\n        )}\n      </video>\n      <NavHome />\n      <Container id=\"searchEngine\">\n        <div id=\"title\">\n          {currentTime.getHours() >= 18 ? (\n            <p id=\"mainTitle\">BONSOIR</p>\n          ) : (\n            <p id=\"mainTitle\">BONJOUR</p>\n          )}\n          <p id=\"subTitle\">Quel temps fera-t-il...</p>\n        </div>\n        <Button id=\"buttonLocation\" variant=\"success\" onClick={fetchLocal}>\n          <FontAwesomeIcon icon={faMapPin} /> ...CHEZ MOI !\n        </Button>\n        <div id=\"searchSelect\">\n          <span id=\"searchSelect-title\">ou à...</span>\n          <Form.Control\n            id=\"searchSelect-dropdown\"\n            as=\"select\"\n            placeholder=\"Choisissez une région...\"\n            onChange={regionChange}\n          >\n          <option value=\"\">Choisissez une région</option>\n            {regions.map((region, index) => (\n              <option value={region.name} key={index}>\n                {region.name}\n              </option>\n            ))}\n          </Form.Control>\n          {selectedRegion ? (\n          <Form.Control\n            id=\"searchSelect-dropdown\"\n            as=\"select\"\n            placeholder=\"Choisissez une ville...\"\n            value={searchCity}\n            onChange={handleChange}\n          >\n          <option value=\"\">Choisissez une ville</option>\n            {selectedRegion.cities?.map((city,idx) =>\n          <option value={city} key={idx}>{city}</option>\n          )}\n          </Form.Control>\n          ) : (\n            <>\n            </>\n          )}\n          <Button id=\"buttonCity\" onClick={fetchCity}>GO {\"  \"}\n            <FontAwesomeIcon icon={faLocationArrow} />\n          </Button>\n        </div>\n        <Button id=\"buttonReset\" onClick={resetAll}>\n          RÉINITIALISER\n        </Button>\n      </Container>\n      <CityReport results={results} />\n      <Footer />\n    </div>\n  );\n};\n\nexport default Home;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport 'bootstrap/dist/css/bootstrap.css';\nimport Home from \"./pages/Home\";\nimport './style.scss';\n\n\n\nReactDOM.render(<Home />, document.querySelector(\"#root\"));"],"sourceRoot":""}